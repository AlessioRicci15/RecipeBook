{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"/Users/alessioricci/projects/udemy/udemy-app/node_modules/@babel/runtime/helpers/asyncToGenerator\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PipesConsumer = void 0;\n\nconst params_token_factory_1 = require(\"./params-token-factory\");\n\nclass PipesConsumer {\n  constructor() {\n    this.paramsTokenFactory = new params_token_factory_1.ParamsTokenFactory();\n  }\n\n  apply(value, {\n    metatype,\n    type,\n    data\n  }, pipes) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const token = _this.paramsTokenFactory.exchangeEnumForString(type);\n\n      return _this.applyPipes(value, {\n        metatype,\n        type: token,\n        data\n      }, pipes);\n    })();\n  }\n\n  applyPipes(value, {\n    metatype,\n    type,\n    data\n  }, transforms) {\n    return _asyncToGenerator(function* () {\n      return transforms.reduce( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (defferedValue, pipe) {\n          const val = yield defferedValue;\n          const result = pipe.transform(val, {\n            metatype,\n            type,\n            data\n          });\n          return result;\n        });\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }(), Promise.resolve(value));\n    })();\n  }\n\n}\n\nexports.PipesConsumer = PipesConsumer;","map":null,"metadata":{},"sourceType":"script"}