{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"/Users/alessioricci/projects/udemy/udemy-app/node_modules/@babel/runtime/helpers/asyncToGenerator\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExceptionsZone = void 0;\n\nconst exception_handler_1 = require(\"./exception-handler\");\n\nconst DEFAULT_TEARDOWN = () => process.exit(1);\n\nclass ExceptionsZone {\n  static run(callback, teardown = DEFAULT_TEARDOWN) {\n    try {\n      callback();\n    } catch (e) {\n      this.exceptionHandler.handle(e);\n      teardown(e);\n    }\n  }\n\n  static asyncRun(callback, teardown = DEFAULT_TEARDOWN) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield callback();\n      } catch (e) {\n        _this.exceptionHandler.handle(e);\n\n        teardown(e);\n      }\n    })();\n  }\n\n}\n\nexports.ExceptionsZone = ExceptionsZone;\nExceptionsZone.exceptionHandler = new exception_handler_1.ExceptionHandler();","map":null,"metadata":{},"sourceType":"script"}